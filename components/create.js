const fs = require('node:fs')

/////////////////////////////////////////////////////
//// method for create new file in html formate ////
///////////////////////////////////////////////////

//////////////////////////////////////////////////////
//// method expects file name  and data to write ////
////////////////////////////////////////////////////

module.exports = function create(file, data){

    ///////////////////////////////////
    //// split file name to array ////
    /////////////////////////////////

    let name = file.split('.')

    //////////////////////////////////////////
    //// create new file with same name  ////
    ////////////////////////////////////////

    fs.appendFile(`${name[0]}.html`, data, (err) => {
        if(err){

            ///////////////////////////////////////////////////////////////////////////
            //// if something went wrong during creating file print error massage ////
            /////////////////////////////////////////////////////////////////////////

            throw new Error('can not create html file')
            return
        }

        //////////////////////////////////////////////////////
        //// in case everything is Ok print this massage ////
        ////////////////////////////////////////////////////

        console.log(`file ${name[0]}.html was successfully created`)
    })
}