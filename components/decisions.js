///////////////////////////////////////////////////////////////
//// import a module for reading line by line from a file ////
/////////////////////////////////////////////////////////////

const oneline = require('readline')

////////////////////////////////////////////
//// import module for files heandling ////
//////////////////////////////////////////

const fs = require('node:fs')

///////////////////////////////////////////////
//// import module for create a html file ////
/////////////////////////////////////////////

const create = require('./create')



////////////////////////////////////////////////////////////////////////////////
//// this method decisions and sent data from htmlx file to others methods ////
///////////////////////////////////////////////////////////////////////////////

///////////////////////////////////
//// method expects file name ////
/////////////////////////////////

module.exports = function decisions(file){


    ///////////////////////////////////////////////////////////////////
    //// create an interface for reading line by line from a file ////
    /////////////////////////////////////////////////////////////////

    const obj = oneline.createInterface({
        input: fs.createReadStream(file),
        output: process.stdout,
        terminal: false
    })



    /////////////////////////////////////////////////////////////////////////////
    //// this variable includes contents which will be write to a html file ////
    ///////////////////////////////////////////////////////////////////////////

    let content

    obj.on('line', (line) => {
       // console.log(line)
        if(line.includes('<') && line.includes('>')){
            content = `${content} ${line}`
            create(file, content)
        }

    })
}